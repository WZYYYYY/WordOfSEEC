# 需求规格说明模板

## 1. 引言

### 1.1 目的

  本文档描述了电影院销售管理系统的功能需求和非功能需求。开发小组的软件系统实现和验证工作都以此文档为依据。除特殊说明外，本文档所包含的需求都是高优先级需求

### 1.2 范围

  本电影院销售管理系统是为XXX电影院开发的业务系统，开发的目标是帮助该电影院处理线上业务，包括修改退票策略，新增退票策略，发布会员卡，发布会员卡优惠策略，影厅信息录入等功能。

### 1.3 参考文献

  软件开发的技术基础（软件工程与计算（卷二））

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

  XXX电影院是一家经营惨淡，陷入低谷的小型电影院。它地处大学城附近，却因为没有自动化的管理系统和科学的对用户想看电影的排片管理而观众稀少。本来它采用人工统计，人工上架的管理方式。现在的人工系统已经不能满足它的发展需求。首先它原来处理业务缓慢，上架电影不能掌握市场需求，导致观众流失。其次电影院规模的进一步扩大，已经无法准确掌握和做出电影的排片，排片混乱，用户不满意的现象明显。再次商店面对的竞争比以前大。希望在降低成本，吸引顾客，保持竞争力的同时能有一定的盈利水平。  
  电影院管理系统SEEC就是为满足xxx电影院新的业务发展要求而开发的。它包括了一个数据集中服务器和多个客户端。数据集中服务器将所有的数据春初起来进行维护。用户通过客户端完成日常任务。客户端与数据集中服务器采用实时通信的方式完成数据交换。

#### 2.1.2 业务需求

BR1： 在系统使用1个月后，影院管理人员工作效率提高50%  
BR2： 在系统使用1个月后，运营成本要降低10%  
&emsp;&emsp;&emsp; 范围：人力成本  
&emsp;&emsp;&emsp; 度量：检查平均员工数量  
BR3： 在系统使用1个月后，影院上座率提高50%  
&emsp;&emsp;&emsp; 最好情况： 100%  
&emsp;&emsp;&emsp; 最可能情况： 50%  
&emsp;&emsp;&emsp; 最坏情况： 30%

### 2.2 项目功能

SF1： 允许管理员发布会员卡

SF2： 允许管理员发布会员卡优惠策略

SF3： 允许管理员赠送优惠券

SF4： 允许管理员发布退票策略

SF5： 允许管理员修改退票策略

SF6： 允许管理员录入影厅信息

SF7:    允许管理员修改影厅信息

SF8:    允许管理员增删改查影院角色

SF9:    允许用户查看自己的充值记录

SF10：允许用户查看自己的消费记录

SF11：允许用户退票

### 2.3 用户特征  

|  观众  | 他们是与系统交互最多的人群，数量庞大，他们查看充值消费记录，退票。 |
| :----: | ------------------------------------------------------------ |
| 管理员 | 整个销售管理系统需要包含3~4位管理员，他们会员卡的发布和管理，退票策略的发布和修改，录入影厅信息和修改，他们要负责整个系统的正常平稳运行。 |

### 2.4 约束

CON1： 系统将运行在Mac、Windows、Linux系统上  
CON2： 系统不使用图形界面，而是Web界面  
CON3： 项目要使用持续集成方法进行开发  
CON4： 在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告

### 2.5 假设与依赖

AE1：管理员不会修改正在进行中的活动 
AE2：充值记录，消费记录不允许任何人修改和删除

## 3 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面 

UI1 登陆界面：请求用户输入用户名和密码，区分观众登陆页面和管理员登陆页面

&emsp;UI1.1 观众登陆后，系统应转入个人用户初始界面

&emsp;UI1.2 管理员登陆后，系统应转入电影院管理界面

UI2 个人用户管理界面：显示用户的个人信息。并提供跳转查询用户卡包，电影票，消费记录，充值记录的功能。

UI3 个人用户卡包界面：显示用户持有的会员卡，优惠券。

UI4 个人用户电影票界面：显示用户购过的电影票。

UI5 个人用户消费记录界面：显示用户的消费记录。

UI6 个人用户充值记录界面：显示用户的充值记录。

UI7 电影院管理界面：可以提供跳转赠送优惠券，发布修改退票策略，发布修改影院角色，管理影厅信息界面。

UI8 优惠券管理界面：管理员可以在这里赠送用户优惠券

UI9 退票策略管理页面：供管理员发布退票策略

UI10 影院角色管理页面：供管理员发布修改影院角色

UI11 影厅信息管理页面：供管理员修改管理影厅信息

#### 3.1.2 通信接口

CI:客户端和服务器使用HTTP接口进行通信。

### 3.2 功能需求

#### 3.2.24 发布会员卡

##### 3.2.1.1 特征描述

影院需要新增会员卡种类时，管理员可确定会员卡的名称 价格 优惠条件来新增会员卡策略

优先级=中

##### 3.2.1.2 刺激/响应序列

 刺激：管理员点击按钮，新增会员卡
 响应：系统弹窗请求输入会员卡名称、价格、优惠条件

 刺激：管理员输入上述信息后确认
 响应：系统显示更新后的会员卡列表

##### 3.2.1.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Card.Input<br />Card.Input.Del<br />Card.Input.Cancel<br />Card.Input.Feedback | 系统允许管理员进行录入<br />系统允许管理员删除编辑的内容<br />系统允许管理员取消增加操作<br />系统存储管理员录入的信息，参见Card.Feedback |
| Card.Feedback.Add<br />Card.Feedback.Print<br />Card.Feedback.Invalid | 系统根据输入信息新增会员卡策略<br />系统显示会员卡策略信息<br />在管理员输入非法信息时，系统显示信息非法 |

#### 3.2.25 修改会员卡策略

##### 3.2.1.1 特征描述

影院需要修改会员卡种类时，管理员可为当前会员卡确定新的的名称 价格 优惠条件来修改会员卡策略

优先级=中

##### 3.2.1.2 刺激/响应序列

 刺激：管理员点击按钮，修改会员卡
 响应：系统弹窗请求输入会员卡名称、价格、优惠条件

 刺激：管理员输入上述信息后确认
 响应：系统更新修改后的会员卡列表

##### 3.2.1.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Card.Input<br />Card.Input.Del<br />Card.Input.Cancel<br />Card.Input.Feedback | 系统允许管理员输入<br />系统允许管理员删除输入的内容<br />系统允许管理员取消更改<br />管理员输入后确认，系统显示信息，参见Card.Feedback |
| Card.Feedback.Change<br />Card.Feedback.Print<br />Card.Feedback.Invalid | 系统根据输入修改会员卡策略信息<br />系统显示会员卡策略信息<br />在管理员输入非法信息时，系统显示信息非法 |

#### 3.2.28  影厅信息录入

##### 3.2.28.1 特征描述

 新增影厅,输入影厅名和座位信息

优先级=中

##### 3.2.28.2 刺激/响应序列

 刺激：管理员发起新增影厅的请求  
 响应：系统提示输入信息   
 刺激：管理员输入信息  
 响应：系统提示修改信息

##### 3.2.28.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Hall.Input<br />Hall.Input.Del<br />Hall.Input.Cancel<br />Hall.Input.Feedback | 系统允许管理员输入<br />系统允许管理员删除输入的内容<br />系统允许管理员取消更改<br />管理员输入后确认，系统显示信息，参见Hall.Feedback |
| Hall.Feedback.Add<br />Hall.Feedback.Print<br />Hall.Feedback.Invalid | 系统根据输入信息新增影厅<br />系统显示影厅信息<br />在管理员输入非法信息时，系统显示信息非法 |

#### 3.2.29  影厅信息修改

##### 3.2.29.1 特征描述

 修改影厅名和座位信息

优先级=中

##### 3.2.29.2 刺激/响应序列

 刺激：管理员发起修改影厅的请求  
 响应：系统提示输入信息   
 刺激：管理员输入信息  
 响应：系统提示修改信息

##### 3.2.29.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Hall.Input<br />Hall.Input.Del<br />Hall.Input.Cancel<br />Hall.Input.Feedback | 系统允许管理员输入<br />系统允许管理员删除输入的内容<br />系统允许管理员取消更改<br />管理员输入后确认，系统显示信息，参见Hall.Feedback |
| Hall.Feedback.Change<br />Hall.Feedback.Print<br />Hall.Feedback.Invalid | 系统根据输入修改影厅信息<br />系统显示影厅信息<br />在管理员输入非法信息时，系统显示信息非法 |

#### 3.2.30  影院角色的增删改查

##### 3.2.30.1 特征描述

 对影院角色进行增删改查  

优先级=高

##### 3.2.30.2 刺激/响应序列

 刺激：管理员发起更改的请求  
 响应：系统提示输入信息   
 刺激：管理员输入信息  
 响应：系统提示更改信息

##### 3.2.30.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Staff.Input<br />Staff.Input.Del<br />Staff.Input.Cancel<br />Staff.Input.Feedback | 系统允许用户输入<br />系统允许用户删除职员,参见Staff.Delete<br />系统允许用户取消更改<br />用户输入后确认，系统显示信息，参见Staff.Feedback |
| Staff.Feedback.Add<br />Staff.Feedback.Print<br />Staff.Feedback.Invalid | 系统根据输入信息更改影院角色<br />系统显示影院角色<br />在用户输入非法信息时，系统显示信息非法 |
|Staff.Delete|根据用户名删除影院角色|

#### 3.2.31 新增退票策略

##### 3.2.31.1 特征描述

在管理员已登陆的前提下，管理员增加新的退票策略

优先级=高

##### 3.2.31.2 刺激/响应序列

 刺激：管理员输入账号密码，点击登陆  
 响应：系统识别管理员登陆，进入相应主界面  
 刺激：管理员点击新增退票策略按键  
 响应：系统弹出退票策略输入栏，提示管理员输入信息  
 刺激：理员输入信息后点击确认  
 响应：系统检验输入信息后保存，提示创建成功  

##### 3.2.31.3 相关功能需求  

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| RefundMapper.insertRefundSchedule<br />RefundService.addRefundMethod | 数据库增加新的退票策略<br />系统处理输入信息并封装 |
| Button.click<br />Input.required | 系统接收前端信息并触发程序<br />系统检测响应输入是否已填 |

#### 3.2.32 修改退票策略

##### 3.2.32.1 特征描述

在管理员已登陆的前提下，管理员修改已存在的退票策略  

优先级=高

##### 3.2.32.2 刺激/响应序列

 刺激：管理员输入账号密码，点击登陆  
 响应：系统识别管理员登陆，进入相应主界面  
 刺激：管理员在所需修改的退票策略后点击修改按键  
 响应：系统弹出退票策略输入栏，提示管理员输入信息  
 刺激：理员输入信息后点击确认   
 响应：系统检验输入信息后保存，提示修改成功  

##### 3.2.32.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| RefundMapper.updateRefundSchedule<br />RefundService..updateRefundMethod | 数据库更新所指定的退票策略<br />系统处理输入信息并封装 |
| Button.click<br />Input.required | 系统接收前端信息并触发程序<br />系统检测响应输入是否已填 |

#### 3.2.33 用户退票

##### 3.2.33.1 特征描述

在用户已登陆的前提下，用户请求退款自己已订购还未激活的电影票  

优先级=高  

##### 3.2.31.2 刺激/响应序列

 刺激：用户输入账号密码，点击登陆  
 响应：系统识别用户登陆，调取用户信息，进入用户主界面  
 刺激：用户查看自己的电影票  
 响应：系统调取用户电影票信息并展示  
 刺激：用户在所需退票的电影票后点击退票按键  
 响应：系统执行退票程序，提示用户退票成功  

##### 3.2.31.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| VIPServiceForBL.getCardByUserId<br />RefundService.getRefundById<br />TicketServiceForBL.getTicketById | 系统通过用户名找到相应会员卡<br />系统通过退票策略Id找到相应策略<br />系统通过票Id找到相应电影票 |
| Button.click<br />Input.required | 系统接收前端信息并触发程序<br />系统检测响应输入是否已填 |
| VIPServiceForBL.setBalace | 系统修改相应会员卡余额 |
| Date.getTime | 得到当前时间 |

#### 3.2.34 用户查询充值记录

##### 3.2.34.1 特征描述

在用户已登陆的前提下，用户请求查询自己的充值记录  

优先级=高  

##### 3.2.34.2 刺激/响应序列

 刺激：用户输入账号密码，点击登陆  
 响应：系统识别用户登陆，调取用户信息，进入用户主界面  
 刺激：用户查看自己的充值记录  
 响应：系统调取用户充值记录信息并展示   

##### 3.2.34.3 相关功能需求

| 需求编号     | 详细描述             |
| :----------- | -------------------- |
| Content.Show | 系统展示内容         |
| button.click | 点击按钮触发相应程序 |

#### 3.2.35 用户查询消费记录

##### 3.2.35.1 特征描述

在用户已登陆的前提下，用户请求查询自己的消费记录  

优先级=高  

##### 3.2.35.2 刺激/响应序列

 刺激：用户输入账号密码，点击登陆  
 响应：系统识别用户登陆，调取用户信息，进入用户主界面  
 刺激：用户查看自己的消费记录  
 响应：系统调取用户消费记录信息并展示   

##### 3.2.35.3 相关功能需求

| 需求编号     | 详细描述             |
| :----------- | -------------------- |
| Content.Show | 系统展示内容         |
| button.click | 点击按钮触发相应程序 |

#### 3.2.36 管理员赠送优惠券

##### 3.2.36.1 特征描述

在用户已登陆的前提下，管理员请求向观众赠送优惠券。 

优先级=高  

##### 3.2.36.2 刺激/响应序列

 刺激：用户输入账号密码，点击登陆  
 响应：系统识别用户登陆，调取用户信息，进入用户主界面  
 刺激：用户进入优惠券管理界面  
 响应：系统调取用户优惠券管理信息并展示

 刺激：用户选择要赠送的观众
 响应：系统识别用户的选择并显示 
 刺激：用户选择要赠送的优惠券  
 响应：系统识别用户的选择并显示

 刺激：用户点击赠送  
 响应：系统作出赠送并提醒用户赠送成功或失败

##### 3.2.36.3 相关功能需求

| 需求编号                                                     | 详细描述                                                     |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| User.Input<br />User.Input.Feedback                          | 系统允许用户输入<br />用户输入后确认，系统显示信息，参见User.Feedback |
| User.Feedback <br />User.Feedback.choose<br />User.Feedback.cancel | 系统显示的供用户挑选的列表<br />选择用户<br />取消对用户的选择 |
| Coupon.choose                                                | 用户选择消费券                                               |
| Coupon.givebyuseridandcoupon                                 | 赠送选定的优惠券给选定的用户                                 |

### 3.3 非功能需求

#### 3.3.1  安全性

Safety1：系统仅允许登陆后的用户进行修改<br />
Safety2：系统按照用户身份授予用户权限，分为管理员模式和观众模式<br />
Safety3:   系统保存最近两天的版本<br />

#### 3.3.2  可维护性

Modifiability1：当系统的信息发生变化时，要能在三人一天中完成修改

#### 3.3.3  易用性

Usability1：关键信息标黑加粗<br />
Usability2：使用系统一个月的管理员要可以一分钟赠送完优惠券

#### 3.3.4  可靠性

Reliability 1: 在客户端与服务器通讯时，若网络出故障，系统不能出故障。  
&emsp;&emsp; Reliability 1.1: 客户端应检测到故障，并尝试重新连接网络3次，每次15秒  
&emsp;&emsp;&emsp;&emsp; Reliability 1.1.1: 若重新连接成功，客户端应保持故障前的页面和数据状态  
&emsp;&emsp;&emsp;&emsp; Reliability 1.1.2：若重新连接不成功，客户端请求用户刷新网页  
&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; Reliability 1.1.2.1：若刷新后无法连接到系统，客户端报错并请用户稍后访问  

#### 3.3.5  业务规则

BR1: 适用（用户标识，参照日期）的会员促销策略  
&emsp;&emsp;（某一会员标识 = 用户标识）而且（开始日期遭遇等于参照日期）并且（结束日期晚于等于参照日期）  
BR2：积分兑换规则，该规则可能变化  

#### 3.3.6  约束  

IC1：系统要在网络上分布多个服务器并保持稳定  

### 3.4  数据需求

#### 3.4.1  数据定义  

DR1： 系统需要储存3个月内的售票/退票记录  
DR2： 系统需要储存3年内用户信息  
DR3： 系统需要永久储存上架电影的所有信息

#### 3.4.2  默认数据  

默认数据用于以下两种情况：  

- 系统中新增加数据时  
- 编辑数据时不小心将相关内容清空时    

Default1： 时间默认为当日 
Default2： 用户信息默认为空    
Default3： 电影详情信息默认为空  
Default4： 某部电影想看人数默认为0  
Default5： 管理员工号默认为当前登录用户  
Default6： 观众账号默认为当前登录用户   

#### 3.4.3  数据格式要求

Format1： 日期的格式为yyyy-mm-dd  hh-mm-ss
Format2： 充值记录的格式为：充值金额，时间，订单号，充值方式组成的一个数组。  
Format3： 消费记录的格式为：充值金额，时间，订单号，消费方式，消费详情组成的一个数组。 

### 3.5  其他需求  

使用需求

- 系统投入使用时，需要对管理员进行1个星期的集中培训
